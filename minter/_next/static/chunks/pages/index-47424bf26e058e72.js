(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(88748)}])},88748:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(47568),r=n(20414),s=n(85893),i=n(9008),u=n.n(i),o=n(67294),p=n(57114),l=n(77294),d=n(35553),y=n(83078),c=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ApprovalCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"ApprovalQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"BalanceQueryForZeroAddress","type":"error"},{"inputs":[],"name":"MintERC2309QuantityExceedsLimit","type":"error"},{"inputs":[],"name":"MintToZeroAddress","type":"error"},{"inputs":[],"name":"MintZeroQuantity","type":"error"},{"inputs":[],"name":"OwnerQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"OwnershipNotInitializedForExtraData","type":"error"},{"inputs":[],"name":"TransferCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"TransferFromIncorrectOwner","type":"error"},{"inputs":[],"name":"TransferToNonERC721ReceiverImplementer","type":"error"},{"inputs":[],"name":"TransferToZeroAddress","type":"error"},{"inputs":[],"name":"URIQueryForNonexistentToken","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toTokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"ConsecutiveTransfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxTokenSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"baseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawMoney","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function m(e){var t=e.change,n=(0,o.useState)(!0),i=n[0],u=n[1],m=(0,o.useState)(0),f=m[0],b=m[1],h=(0,o.useState)(0),x=h[0],T=h[1],w=(0,y.Nr)(),g=w.isWeb3Enabled;w.chainId;function v(){return(v=(0,a.Z)((function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,N()];case 1:return e.sent(),[4,j()];case 2:return e.sent(),u(!1),[2]}}))}))).apply(this,arguments)}function N(){return M.apply(this,arguments)}function M(){return(M=(0,a.Z)((function(){var e,t,n;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=new p.Q(window.ethereum),[4,new l.CH("0xc62eA1d5a04316374926ea75b491f4C2a45418C1",c.Mt,e).totalSupply()];case 1:return t=a.sent(),b(t.toNumber()),[3,3];case 2:return n=a.sent(),console.log(n),[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function j(){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)((function(){var e,t,n;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=new p.Q(window.ethereum),[4,new l.CH("0xc62eA1d5a04316374926ea75b491f4C2a45418C1",c.Mt,e).getBalance()];case 1:return t=a.sent(),T(d.dF(t).toString()),[3,3];case 2:return n=a.sent(),console.log(n),[3,3];case 3:return[2]}}))}))).apply(this,arguments)}return(0,o.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[g,f,x,t]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("p",{children:["Tokens minted: ",i?"Loading...":"".concat(f,"/").concat(1e4),(0,s.jsx)("br",{}),"Contract value: ",i?"Loading...":"".concat(x,"ETH")]})})}var f=n(41942);function b(){return(0,s.jsx)("nav",{className:"p-5 border-b-2 flex flex-row",children:(0,s.jsx)("div",{className:"ml-auto py-2 px-4",children:(0,s.jsx)(f.cg,{moralisAuth:!1})})})}var h=n(25675),x=n.n(h);function T(e){var t=e.change,n=(0,o.useState)([]),i=n[0],u=n[1],d=(0,y.Nr)(),m=d.isWeb3Enabled,f=(d.chainId,(0,o.useState)([])),b=f[0];f[1];function h(){return(h=(0,a.Z)((function(){var e,t,n,a,s,i,o,d,y,m,f,h;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,10,,11]),e=new p.Q(window.ethereum),t=e.getSigner(),n=new l.CH("0xc62eA1d5a04316374926ea75b491f4C2a45418C1",c.Mt,e),[4,t.getAddress()];case 1:return a=r.sent(),[4,n.balanceOf(a)];case 2:s=r.sent(),i=[],o=1,r.label=3;case 3:return o<s?[4,n.ownerOf(o)]:[3,9];case 4:return r.sent()===a&&i.push(o),[4,n.tokenURI(o)];case 5:return d=r.sent(),y=d.replace("ipfs://","https://ipfs.io/ipfs/"),[4,fetch(y)];case 6:return[4,r.sent().json()];case 7:m=r.sent(),f=m.image.replace("ipfs://","https://ipfs.io/ipfs/"),b.push(f),r.label=8;case 8:return o++,[3,3];case 9:return u(i),[3,11];case 10:return h=r.sent(),console.log(h),[3,11];case 11:return[2]}}))}))).apply(this,arguments)}return(0,o.useEffect)((function(){m&&function(){h.apply(this,arguments)}()}),[m,t]),i.length<1?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Your NFTs"}),(0,s.jsx)("ul",{className:"grid grid-cols-4 gap-6",children:i.map((function(e){return(0,s.jsx)("div",{className:"bg-gray-100 p-4 h-24 lg:h-28 flex justify-center items-center text-lg",children:(0,s.jsx)(x(),{src:b[e-1],alt:[e-1],width:"100%",height:"100%"})},e)}))})]})}function w(){var e=(0,y.Nr)(),t=e.isWeb3Enabled,n=(e.chainId,e.enableWeb3),i=(0,o.useState)(1),f=i[0],h=i[1],x=(0,o.useRef)(),w=(0,o.useState)(!1),g=w[0],v=w[1],N=(0,o.useState)(""),M=N[0],j=N[1],k=(0,o.useState)(!1),A=k[0],C=k[1],F=(0,o.useState)(0),I=F[0],_=F[1];function S(){return(S=(0,a.Z)((function(){var e,a,s,i,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(f<1)return j("You need to mint at least 1 NFT."),v(!0),x.current.focus(),[2];if(f>10)return j("You can only mint a maximum of 10 NFTs."),v(!0),x.current.focus(),[2];if(!t)return[3,10];r.label=1;case 1:r.trys.push([1,8,,9]),e=new p.Q(window.ethereum),a=e.getSigner(),r.label=2;case 2:return r.trys.push([2,6,,7]),[4,a.getAddress()];case 3:return r.sent(),C(!0),s=new l.CH("0xc62eA1d5a04316374926ea75b491f4C2a45418C1",c.Mt,a),i=0*f,[4,s.mint(f,{value:d.fi(i.toString())})];case 4:return[4,r.sent().wait()];case 5:return r.sent(),x.current.value=0,j("Congrats, you minted ".concat(f," token(s)!")),v(!1),_(I+1),[3,7];case 6:return r.sent(),j("Connect your wallet first."),v(!0),[3,7];case 7:return[3,9];case 8:return u=r.sent(),j(u.message),v(!0),[3,9];case 9:return[3,12];case 10:return j("Connect your wallet first."),[4,n()];case 11:r.sent(),r.label=12;case 12:return C(!1),[2]}}))}))).apply(this,arguments)}return(0,s.jsxs)("div",{className:"max-w-xl mt-36 mx-auto px-4",children:[(0,s.jsxs)(u(),{children:[(0,s.jsx)("title",{children:"NFT Minting dApp Starter"}),(0,s.jsx)("meta",{name:"description",content:"Mint an NFT, or a number of NFTs, from the client-side."}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(b,{}),(0,s.jsxs)("main",{className:"space-y-8",children:[(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-4xl font-semibold mb-8",children:"NFT Minting dApp Starter"}),(0,s.jsx)(m,{change:I}),(0,s.jsx)("div",{className:"space-y-8",children:(0,s.jsx)("div",{className:"bg-gray-100 p-4 lg:p-8",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Mint NFTs"}),(0,s.jsx)("label",{className:"text-gray-600 text-sm mb-2 inline-block",children:"How many NFTs would you like to mint from the smart contract?"}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("input",{className:g?"border border-red-500 p-4 text-center rounded-tl rounded-bl focus:outline-none focus:border-blue-600 w-2/3":"border p-4 text-center rounded-tl rounded-bl focus:outline-none focus:border-blue-600 w-2/3",onChange:function(e){return h(e.target.value)},value:f,placeholder:"1",type:"number",min:"1",max:"10",ref:x}),(0,s.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white py-4 px-8 rounded-tr rounded-br w-1/3",onClick:function(){return S.apply(this,arguments)},children:A?"Loading...":"Mint"})]}),M&&(0,s.jsx)("span",{className:g?"text-red-600 text-xs mt-2 block":"text-green-600 text-xs mt-2 block",children:M})]})})})]}),(0,s.jsx)(T,{change:I})]}),(0,s.jsx)("footer",{className:"mt-20 text-center",children:(0,s.jsx)("a",{href:"https://github.com/tomhirst/solidity-nextjs-mint-starter/blob/main/README.md",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 mb-8 inline-block",children:"Read the docs"})})]})}}},function(e){e.O(0,[654,774,888,179],(function(){return t=75557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);